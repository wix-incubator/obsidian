"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[2835],{6765:(e,t,n)=>{n.d(t,{A:()=>s});n(4041);var a=n(3640);const r={tabItem:"tabItem_OMyP"};var i=n(1085);function s(e){let{children:t,hidden:n,className:s}=e;return(0,i.jsx)("div",{role:"tabpanel",className:(0,a.A)(r.tabItem,s),hidden:n,children:t})}},6610:(e,t,n)=>{n.d(t,{A:()=>w});var a=n(4041),r=n(3640),i=n(3030),s=n(6090),l=n(931),o=n(4939),c=n(7192),d=n(4658);function u(e){return a.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,a.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function p(e){const{values:t,children:n}=e;return(0,a.useMemo)((()=>{const e=t??function(e){return u(e).map((e=>{let{props:{value:t,label:n,attributes:a,default:r}}=e;return{value:t,label:n,attributes:a,default:r}}))}(n);return function(e){const t=(0,c.X)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,n])}function h(e){let{value:t,tabValues:n}=e;return n.some((e=>e.value===t))}function b(e){let{queryString:t=!1,groupId:n}=e;const r=(0,s.W6)(),i=function(e){let{queryString:t=!1,groupId:n}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:t,groupId:n});return[(0,o.aZ)(i),(0,a.useCallback)((e=>{if(!i)return;const t=new URLSearchParams(r.location.search);t.set(i,e),r.replace({...r.location,search:t.toString()})}),[i,r])]}function f(e){const{defaultValue:t,queryString:n=!1,groupId:r}=e,i=p(e),[s,o]=(0,a.useState)((()=>function(e){let{defaultValue:t,tabValues:n}=e;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!h({value:t,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const a=n.find((e=>e.default))??n[0];if(!a)throw new Error("Unexpected error: 0 tabValues");return a.value}({defaultValue:t,tabValues:i}))),[c,u]=b({queryString:n,groupId:r}),[f,m]=function(e){let{groupId:t}=e;const n=function(e){return e?`docusaurus.tab.${e}`:null}(t),[r,i]=(0,d.Dv)(n);return[r,(0,a.useCallback)((e=>{n&&i.set(e)}),[n,i])]}({groupId:r}),g=(()=>{const e=c??f;return h({value:e,tabValues:i})?e:null})();(0,l.A)((()=>{g&&o(g)}),[g]);return{selectedValue:s,selectValue:(0,a.useCallback)((e=>{if(!h({value:e,tabValues:i}))throw new Error(`Can't select invalid tab value=${e}`);o(e),u(e),m(e)}),[u,m,i]),tabValues:i}}var m=n(8529);const g={tabList:"tabList_M0Dn",tabItem:"tabItem_ysIP"};var v=n(1085);function j(e){let{className:t,block:n,selectedValue:a,selectValue:s,tabValues:l}=e;const o=[],{blockElementScrollPositionUntilNextRender:c}=(0,i.a_)(),d=e=>{const t=e.currentTarget,n=o.indexOf(t),r=l[n].value;r!==a&&(c(t),s(r))},u=e=>{let t=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const n=o.indexOf(e.currentTarget)+1;t=o[n]??o[0];break}case"ArrowLeft":{const n=o.indexOf(e.currentTarget)-1;t=o[n]??o[o.length-1];break}}t?.focus()};return(0,v.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.A)("tabs",{"tabs--block":n},t),children:l.map((e=>{let{value:t,label:n,attributes:i}=e;return(0,v.jsx)("li",{role:"tab",tabIndex:a===t?0:-1,"aria-selected":a===t,ref:e=>o.push(e),onKeyDown:u,onClick:d,...i,className:(0,r.A)("tabs__item",g.tabItem,i?.className,{"tabs__item--active":a===t}),children:n??t},t)}))})}function x(e){let{lazy:t,children:n,selectedValue:r}=e;const i=(Array.isArray(n)?n:[n]).filter(Boolean);if(t){const e=i.find((e=>e.props.value===r));return e?(0,a.cloneElement)(e,{className:"margin-top--md"}):null}return(0,v.jsx)("div",{className:"margin-top--md",children:i.map(((e,t)=>(0,a.cloneElement)(e,{key:t,hidden:e.props.value!==r})))})}function y(e){const t=f(e);return(0,v.jsxs)("div",{className:(0,r.A)("tabs-container",g.tabList),children:[(0,v.jsx)(j,{...t,...e}),(0,v.jsx)(x,{...t,...e})]})}function w(e){const t=(0,m.A)();return(0,v.jsx)(y,{...e,children:u(e.children)},String(t))}},5185:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>c,toc:()=>u});var a=n(1085),r=n(1184),i=n(6610),s=n(6765);const l={sidebar_position:2},o="Installation",c={id:"documentation/installation",title:"Installation",description:"Like most Dependency Injection frameworks, Obsidian uses automatic code generation to create the bindings necessary for resolving dependencies. This approach helps reduce the amount of boilerplate code required by developers. Obsidian relies on Babel for code generation, so you'll need to have Babel configured in your project.",source:"@site/docs/documentation/installation.mdx",sourceDirName:"documentation",slug:"/documentation/installation",permalink:"/obsidian/docs/documentation/installation",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/documentation/installation.mdx",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"docs2",previous:{title:"Introduction",permalink:"/obsidian/docs/documentation/"},next:{title:"Usage",permalink:"/obsidian/docs/category/usage"}},d={},u=[{value:"1. Install Obsidian",id:"1-install-obsidian",level:2},{value:"2. Install Reflect-metadata",id:"2-install-reflect-metadata",level:2},{value:"3. Enable experimental decorators",id:"3-enable-experimental-decorators",level:2},{value:"4. Add the required Babel plugins",id:"4-add-the-required-babel-plugins",level:2},{value:"4.1. Install the required Babel plugins",id:"41-install-the-required-babel-plugins",level:3},{value:"4.2. Update your Babel configuration",id:"42-update-your-babel-configuration",level:3},{value:"Integration with third-party front-end environments",id:"integration-with-third-party-front-end-environments",level:2},{value:"Vite",id:"vite",level:3},{value:"Create React App",id:"create-react-app",level:3},{value:"Install the required packages and modify the default scripts",id:"install-the-required-packages-and-modify-the-default-scripts",level:4},{value:"Configure Babel",id:"configure-babel",level:4}];function p(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.h1,{id:"installation",children:"Installation"}),"\n",(0,a.jsx)(t.p,{children:"Like most Dependency Injection frameworks, Obsidian uses automatic code generation to create the bindings necessary for resolving dependencies. This approach helps reduce the amount of boilerplate code required by developers. Obsidian relies on Babel for code generation, so you'll need to have Babel configured in your project."}),"\n",(0,a.jsx)(t.admonition,{type:"important",children:(0,a.jsxs)(t.p,{children:["If your project uses either ",(0,a.jsx)(t.strong,{children:"Vite"})," or ",(0,a.jsx)(t.strong,{children:"Create React App"}),", please refer to the ",(0,a.jsx)(t.a,{href:"#integration-with-third-party-front-end-environments",children:"Integration with third-party front-end environments"})," section before following the steps below."]})}),"\n",(0,a.jsx)(t.h2,{id:"1-install-obsidian",children:"1. Install Obsidian"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"npm install react-obsidian\n"})}),"\n",(0,a.jsx)(t.h2,{id:"2-install-reflect-metadata",children:"2. Install Reflect-metadata"}),"\n",(0,a.jsx)(t.p,{children:"First, install and enable the reflect-metadata polyfill."}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"npm install reflect-metadata\n"})}),"\n",(0,a.jsx)(t.p,{children:"Then, add the following line to the top of your application's entry point (usually index.js or index.ts):"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-js",children:"import 'reflect-metadata';\n"})}),"\n",(0,a.jsx)(t.h2,{id:"3-enable-experimental-decorators",children:"3. Enable experimental decorators"}),"\n",(0,a.jsx)(t.p,{children:"Obsidian uses the Decorators feature whose proposal is at stage 3."}),"\n",(0,a.jsx)(t.p,{children:"Add the following options to your tsconfig.json file."}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-js",children:'{\n  "compilerOptions": {\n    "experimentalDecorators": true,\n    "emitDecoratorMetadata": true\n  }\n}\n'})}),"\n",(0,a.jsx)(t.h2,{id:"4-add-the-required-babel-plugins",children:"4. Add the required Babel plugins"}),"\n",(0,a.jsxs)(t.p,{children:[(0,a.jsx)(t.a,{href:"https://babeljs.io/",children:"BabelJS"})," is a JavaScript compiler that is used to transpile modern JavaScript code into code that is compatible with older browsers. Obsidian uses a Babel transformer to generate code that is used to resolve dependencies."]}),"\n",(0,a.jsx)(t.h3,{id:"41-install-the-required-babel-plugins",children:"4.1. Install the required Babel plugins"}),"\n",(0,a.jsx)(t.p,{children:"You will need to install these plugins if you don't have them already:"}),"\n",(0,a.jsxs)(i.A,{children:[(0,a.jsx)(s.A,{value:"yarn",label:"Yarn",default:!0,children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-shell",children:"yarn add @babel/plugin-proposal-decorators @babel/plugin-transform-class-properties babel-plugin-parameter-decorator @babel/core @babel/preset-env @babel/preset-typescript\n"})})}),(0,a.jsx)(s.A,{value:"npm",label:"NPM",default:!0,children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-shell",children:"npm install @babel/plugin-proposal-decorators @babel/plugin-transform-class-properties babel-plugin-parameter-decorator @babel/core @babel/preset-env\n"})})})]}),"\n",(0,a.jsx)(t.p,{children:"If this is your first time using Babel, you will also need to install Babel's core packages:"}),"\n",(0,a.jsxs)(i.A,{children:[(0,a.jsx)(s.A,{value:"yarn",label:"Yarn",default:!0,children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-shell",children:"yarn add @babel/core @babel/preset-env @babel/preset-typescript\n"})})}),(0,a.jsx)(s.A,{value:"npm",label:"NPM",default:!0,children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-shell",children:"npm install @babel/core @babel/preset-env @babel/preset-typescript\n"})})})]}),"\n",(0,a.jsx)(t.h3,{id:"42-update-your-babel-configuration",children:"4.2. Update your Babel configuration"}),"\n",(0,a.jsxs)(t.p,{children:["Add the transformer and the required plugins to the list of plugins in your ",(0,a.jsx)(t.code,{children:"babel.config.js"})," file or ",(0,a.jsx)(t.code,{children:".babelrc"})," file:"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-diff",children:"module.exports = {\n  presets: [\n    'module:metro-react-native-babel-preset',\n+    ['@babel/preset-typescript', {'onlyRemoveTypeImports': true}]\n  ],\n  plugins: [\n+    react-obsidian/dist/transformers/babel-plugin-obsidian,\n+    ['@babel/plugin-proposal-decorators', {legacy: true}],\n+    '@babel/plugin-transform-class-properties',\n+    'babel-plugin-parameter-decorator'\n  ]\n};\n"})}),"\n",(0,a.jsx)(t.h2,{id:"integration-with-third-party-front-end-environments",children:"Integration with third-party front-end environments"}),"\n",(0,a.jsx)(t.h3,{id:"vite",children:"Vite"}),"\n",(0,a.jsxs)(t.p,{children:[(0,a.jsx)(t.a,{href:"https://vitejs.dev/",children:"Vite"})," provides a modern development environment for React application. It boasts an extremely fast development server that uses Hot Module Replacement (HMR) to enable near-instant startup time."]}),"\n",(0,a.jsxs)(t.p,{children:["When integrating Obsidian in a Vite application, follow steps ",(0,a.jsx)(t.strong,{children:"1-3 and step 4.1 that are listed above"}),". Instead of step 4.2, we'll configure Obsidian't Babel transformer in Vite's ",(0,a.jsx)(t.code,{children:"vite.config.js"})," file:"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-js",metastring:'title="vite.config.js"',children:"import { defineConfig } from 'vite';\nimport react from '@vitejs/plugin-react';\n\n// https://vitejs.dev/config/\nexport default defineConfig({\n  plugins: [\n    react({\n      babel: {\n        plugins: [\n          'react-obsidian/dist/transformers/babel-plugin-obsidian',\n          ['@babel/plugin-proposal-decorators', { legacy: true }],\n        ],\n      },\n    }),\n  ],\n});\n"})}),"\n",(0,a.jsx)(t.h3,{id:"create-react-app",children:"Create React App"}),"\n",(0,a.jsx)(t.p,{children:"Create React App (CRA) is a popular tool for getting started with React. It provides a pre-configured development environment that is ready to use out of the box."}),"\n",(0,a.jsxs)(t.p,{children:["When integrating Obsidian in a CRA application, follow steps ",(0,a.jsx)(t.strong,{children:"1-4 that are listed above"}),". Since CRA doesn't allow you to configure Babel directly, we'll need to install two additional packages:"]}),"\n",(0,a.jsxs)(t.ol,{children:["\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.a,{href:"https://github.com/timarney/react-app-rewired",children:"react-app-rewired"}),". This package allows you to customize CRA scripts without ejecting."]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.a,{href:"https://github.com/arackaf/customize-cra",children:"customize-cra"}),". This package provides a set of utilities that can be used to customize CRA configurations. It has to be used instead of the default ",(0,a.jsx)(t.code,{children:"react-scripts"})," package."]}),"\n"]}),"\n",(0,a.jsx)(t.h4,{id:"install-the-required-packages-and-modify-the-default-scripts",children:"Install the required packages and modify the default scripts"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-diff",metastring:'title="package.json"',children:'{\n  "devDependencies": {\n+    "customize-cra": "1.0.0",\n+    "react-app-rewired": "2.2.1"\n  },\n  "scripts": {\n+    "start": "react-app-rewired start",\n+    "build": "react-app-rewired build",\n+    "test": "npx jest",\n-    "start": "react-scripts start",\n-    "build": "react-scripts build",\n-    "test": "react-scripts test --env=jsdom",\n  }\n}\n'})}),"\n",(0,a.jsx)(t.h4,{id:"configure-babel",children:"Configure Babel"}),"\n",(0,a.jsxs)(t.p,{children:["Create a ",(0,a.jsx)(t.code,{children:"config-overrides.js"})," file in the root of your project and add the following code to it:"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-js",metastring:'title="config-overrides.js"',children:"const { useBabelRc, override } = require('customize-cra');\nmodule.exports = override(useBabelRc());\n"})})]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(p,{...e})}):p(e)}},1184:(e,t,n)=>{n.d(t,{R:()=>s,x:()=>l});var a=n(4041);const r={},i=a.createContext(r);function s(e){const t=a.useContext(i);return a.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),a.createElement(i.Provider,{value:t},e.children)}}}]);