"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[7962],{3905:(e,t,a)=>{a.d(t,{Zo:()=>p,kt:()=>b});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=n.createContext({}),u=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},p=function(e){var t=u(e.components);return n.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,l=e.originalType,s=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),d=u(a),b=r,m=d["".concat(s,".").concat(b)]||d[b]||c[b]||l;return a?n.createElement(m,o(o({ref:t},p),{},{components:a})):n.createElement(m,o({ref:t},p))}));function b(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=a.length,o=new Array(l);o[0]=d;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i.mdxType="string"==typeof e?e:r,o[1]=i;for(var u=2;u<l;u++)o[u]=a[u];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}d.displayName="MDXCreateElement"},5162:(e,t,a)=>{a.d(t,{Z:()=>o});var n=a(7294),r=a(6010);const l="tabItem_Ymn6";function o(e){let{children:t,hidden:a,className:o}=e;return n.createElement("div",{role:"tabpanel",className:(0,r.Z)(l,o),hidden:a},t)}},5488:(e,t,a)=>{a.d(t,{Z:()=>b});var n=a(7462),r=a(7294),l=a(6010),o=a(2389),i=a(7392),s=a(7094),u=a(2466);const p="tabList__CuJ",c="tabItem_LNqP";function d(e){const{lazy:t,block:a,defaultValue:o,values:d,groupId:b,className:m}=e,f=r.Children.map(e.children,(e=>{if((0,r.isValidElement)(e)&&"value"in e.props)return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})),g=d??f.map((e=>{let{props:{value:t,label:a,attributes:n}}=e;return{value:t,label:a,attributes:n}})),h=(0,i.l)(g,((e,t)=>e.value===t.value));if(h.length>0)throw new Error(`Docusaurus error: Duplicate values "${h.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`);const y=null===o?o:o??f.find((e=>e.props.default))?.props.value??f[0].props.value;if(null!==y&&!g.some((e=>e.value===y)))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${y}" but none of its children has the corresponding value. Available values are: ${g.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);const{tabGroupChoices:v,setTabGroupChoices:k}=(0,s.U)(),[O,N]=(0,r.useState)(y),w=[],{blockElementScrollPositionUntilNextRender:T}=(0,u.o5)();if(null!=b){const e=v[b];null!=e&&e!==O&&g.some((t=>t.value===e))&&N(e)}const x=e=>{const t=e.currentTarget,a=w.indexOf(t),n=g[a].value;n!==O&&(T(t),N(n),null!=b&&k(b,String(n)))},j=e=>{let t=null;switch(e.key){case"Enter":x(e);break;case"ArrowRight":{const a=w.indexOf(e.currentTarget)+1;t=w[a]??w[0];break}case"ArrowLeft":{const a=w.indexOf(e.currentTarget)-1;t=w[a]??w[w.length-1];break}}t?.focus()};return r.createElement("div",{className:(0,l.Z)("tabs-container",p)},r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,l.Z)("tabs",{"tabs--block":a},m)},g.map((e=>{let{value:t,label:a,attributes:o}=e;return r.createElement("li",(0,n.Z)({role:"tab",tabIndex:O===t?0:-1,"aria-selected":O===t,key:t,ref:e=>w.push(e),onKeyDown:j,onClick:x},o,{className:(0,l.Z)("tabs__item",c,o?.className,{"tabs__item--active":O===t})}),a??t)}))),t?(0,r.cloneElement)(f.filter((e=>e.props.value===O))[0],{className:"margin-top--md"}):r.createElement("div",{className:"margin-top--md"},f.map(((e,t)=>(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==O})))))}function b(e){const t=(0,o.Z)();return r.createElement(d,(0,n.Z)({key:String(t)},e))}},702:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>s,default:()=>b,frontMatter:()=>i,metadata:()=>u,toc:()=>c});var n=a(7462),r=(a(7294),a(3905)),l=a(5488),o=a(5162);const i={sidebar_position:2},s="Installation",u={unversionedId:"documentation/installation",id:"documentation/installation",title:"Installation",description:"Like most Dependency Injection frameworks, Obsidian uses automatic code generation to create the bindings necessary for resolving dependencies. This approach helps reduce the amount of boilerplate code required by developers. Obsidian relies on Babel for code generation, so you'll need to have Babel configured in your project.",source:"@site/docs/documentation/installation.mdx",sourceDirName:"documentation",slug:"/documentation/installation",permalink:"/obsidian/docs/documentation/installation",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/documentation/installation.mdx",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"docs2",previous:{title:"Introduction",permalink:"/obsidian/docs/documentation/"},next:{title:"Usage",permalink:"/obsidian/docs/category/usage"}},p={},c=[{value:"1. Install Obsidian",id:"1-install-obsidian",level:2},{value:"2. Install Reflect-metadata",id:"2-install-reflect-metadata",level:2},{value:"3. Enable experimental decorators",id:"3-enable-experimental-decorators",level:2},{value:"4. Add the required Babel plugins",id:"4-add-the-required-babel-plugins",level:2},{value:"4.1. Update your Babel configuration",id:"41-update-your-babel-configuration",level:3},{value:"4.2. Install the required Babel plugins",id:"42-install-the-required-babel-plugins",level:3}],d={toc:c};function b(e){let{components:t,...a}=e;return(0,r.kt)("wrapper",(0,n.Z)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"installation"},"Installation"),(0,r.kt)("p",null,"Like most Dependency Injection frameworks, Obsidian uses automatic code generation to create the bindings necessary for resolving dependencies. This approach helps reduce the amount of boilerplate code required by developers. Obsidian relies on Babel for code generation, so you'll need to have Babel configured in your project."),(0,r.kt)("h2",{id:"1-install-obsidian"},"1. Install Obsidian"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"npm install react-obsidian\n")),(0,r.kt)("h2",{id:"2-install-reflect-metadata"},"2. Install Reflect-metadata"),(0,r.kt)("p",null,"First, install and enable the reflect-metadata polyfill."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"npm install reflect-metadata\n")),(0,r.kt)("p",null,"Then, add the following line to the top of your application's entry point (usually index.js or index.ts):"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"import 'reflect-metadata';\n")),(0,r.kt)("h2",{id:"3-enable-experimental-decorators"},"3. Enable experimental decorators"),(0,r.kt)("p",null,"Obsidian uses the Decorators feature whose proposal is at stage 3."),(0,r.kt)("p",null,"Add the following options to your tsconfig.json file."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'{\n  "compilerOptions": {\n    "experimentalDecorators": true,\n    "emitDecoratorMetadata": true\n  }\n}\n')),(0,r.kt)("h2",{id:"4-add-the-required-babel-plugins"},"4. Add the required Babel plugins"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://babeljs.io/"},"BabelJS")," is a JavaScript compiler that is used to transpile modern JavaScript code into code that is compatible with older browsers. Obsidian uses a Babel transformer to generate code that is used to resolve dependencies."),(0,r.kt)("h3",{id:"41-update-your-babel-configuration"},"4.1. Update your Babel configuration"),(0,r.kt)("p",null,"Add the transformer and the required plugins to the list of plugins in your ",(0,r.kt)("inlineCode",{parentName:"p"},"babel.config.js")," file or ",(0,r.kt)("inlineCode",{parentName:"p"},".babelrc")," file:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-diff"},"module.exports = {\n  presets: [\n    'module:metro-react-native-babel-preset',\n+    ['@babel/preset-typescript', {'onlyRemoveTypeImports': true}]\n  ],\n  plugins: [\n+    react-obsidian/dist/transformers/babel-plugin-obsidian,\n+    ['@babel/plugin-proposal-decorators', {legacy: true}],\n+    '@babel/plugin-transform-class-properties',\n+    'babel-plugin-parameter-decorator'\n  ]\n};\n")),(0,r.kt)("h3",{id:"42-install-the-required-babel-plugins"},"4.2. Install the required Babel plugins"),(0,r.kt)("p",null,"You will need to install these plugins if you don't have them already:"),(0,r.kt)(l.Z,{mdxType:"Tabs"},(0,r.kt)(o.Z,{value:"yarn",label:"Yarn",default:!0,mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"yarn add @babel/plugin-proposal-decorators @babel/plugin-transform-class-properties babel-plugin-parameter-decorator @babel/core @babel/preset-env @babel/preset-typescript\n"))),(0,r.kt)(o.Z,{value:"npm",label:"NPM",default:!0,mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"npm install @babel/plugin-proposal-decorators @babel/plugin-transform-class-properties babel-plugin-parameter-decorator @babel/core @babel/preset-env\n")))),(0,r.kt)("p",null,"If this is your first time using Babel, you will also need to install Babel's core packages:"),(0,r.kt)(l.Z,{mdxType:"Tabs"},(0,r.kt)(o.Z,{value:"yarn",label:"Yarn",default:!0,mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"yarn add @babel/core @babel/preset-env @babel/preset-typescript\n"))),(0,r.kt)(o.Z,{value:"npm",label:"NPM",default:!0,mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"npm install @babel/core @babel/preset-env @babel/preset-typescript\n")))))}b.isMDXComponent=!0}}]);